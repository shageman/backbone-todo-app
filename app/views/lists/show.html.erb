<script type="text/javascript">
  if (!window.app) var app = window.app = {};
  
  window.app.list_path = "<%= show_list_path(:token => @list.token) %>";
  window.app.list_channel = "<%= @list.channel_name %>"
</script>
<div class="title">
  <h1>To-do&apos;s</h1>
</div>
<div class="content">
  <div id="create-todo">
    <input id="new-todo" placeholder="What needs to be done?" type="text" />
    <span class="ui-tooltip-top">Press Enter to save this task</span>
  </div>
  <div id="todos">
    <ul id="todo-list"></ul>
  </div>
  <div id="todo-stats"></div>
</div>
<div class="title">
  <p>
    You can collaborate in realtime on this to-do list by sharing this url:
    <br />
    <input type="text" readonly="readonly" value="<%= show_list_path(:token => @list.token, :only_path => false) %>"/>
  </p>
</div>


<script type="text/template" id="item-template">
  <div id="todo-item-<%%= id %>" class="todo <%%= isdone ? 'done' : '' %>">
    <div class="display">
      <input class="check" type="checkbox" name="todo-item-<%%= id %>-check" id="todo-item-<%%= id %>-check" <%%= isdone ? 'checked="checked"' : '' %> />
      <label class="todo-content" for="todo-item-<%%= id %>-check"></label>
      <span class="todo-edit"></span>
      <span class="todo-destroy"></span>
    </div>
    <div class="edit">
      <input class="todo-input" type="text" value="" />
    </div>
  </div>
</script>

<script type="text/template" id="stats-template">
  <span class="todo-count">
    <span class="number"><%%= remaining %></span>
    <span class="word"><%%= remaining == 1 ? 'item' : 'items' %></span> left.
  </span>
  <span class="todo-clear">
    <a href="#">
      Clear <span class="number-done"><%%= done %></span>
      completed <span class="word-done"><%%= done == 1 ? 'item' : 'items' %></span>
    </a>
  </span>
</script>
